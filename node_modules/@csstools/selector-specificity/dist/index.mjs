import e from"postcss-selector-parser";function s(c){if(!c)return{a:0,b:0,c:0};let n=0,t=0,o=0;if("universal"==c.type)return{a:0,b:0,c:0};if("id"===c.type)n+=1;else if("tag"===c.type)o+=1;else if("class"===c.type)t+=1;else if("attribute"===c.type)t+=1;else if(function(s){return e.isPseudoElement(s)}(c))o+=1;else if(e.isPseudoClass(c))switch(c.value){case":-moz-any":case":-webkit-any":case":any":case":has":case":is":case":matches":case":not":if(c.nodes&&c.nodes.length>0){const e=a(c.nodes);n+=e.a,t+=e.b,o+=e.c}break;case":where":break;case":nth-child":case":nth-last-child":{t+=1;const s=c.nodes[0].nodes.findIndex((e=>"tag"===e.type&&"of"===e.value));if(s>-1){const i=[e.selector({nodes:c.nodes[0].nodes.slice(s+1),value:""})];c.nodes.length>1&&i.push(...c.nodes.slice(1));const l=a(i);n+=l.a,t+=l.b,o+=l.c}}break;case":local":case":global":c.nodes.forEach((e=>{const a=s(e);n+=a.a,t+=a.b,o+=a.c}));break;default:t+=1}else e.isContainer(c)&&c.nodes.length>0&&c.nodes.forEach((e=>{const a=s(e);n+=a.a,t+=a.b,o+=a.c}));return{a:n,b:t,c:o}}function a(e){let a={a:0,b:0,c:0};return e.forEach((e=>{const c=s(e);c.a>a.a?a=c:c.a<a.a||(c.b>a.b?a=c:c.b<a.b||c.c>a.c&&(a=c))})),a}function c(e,s){return e.a===s.a?e.b===s.b?e.c-s.c:e.b-s.b:e.a-s.a}export{c as compare,s as selectorSpecificity};
